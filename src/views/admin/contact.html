<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Authentication Check - Must be first script -->
    <script type="module" src="/my-watch-colne/frontend/src/js/utils/authProtection.js"></script>
    <link rel="stylesheet" href="/my-watch-colne/frontend/src/styles/admin/contact.css">
    <title>Admin Panel - Edit Contact Info</title>
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .header h1 {
            font-size: 1.875rem;
            color: #333;
        }

        .main-content {
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .breadcrumb-nav {
            margin: 1rem 0;
            padding: 0.75rem 1rem;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .breadcrumb-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
        }

        .breadcrumb-item:not(:last-child)::after {
            content: "â€º";
            margin: 0 0.5rem;
            color: #6c757d;
        }

        .breadcrumb-item a {
            color: #007bff;
            text-decoration: none;
        }

        .breadcrumb-item a:hover {
            text-decoration: underline;
        }

        .breadcrumb-item.active {
            color: #6c757d;
        }

        .form-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .alert {
            padding: 0.75rem 1.25rem;
            margin-bottom: 1rem;
            border-radius: 0.375rem;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .contact-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            padding: 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 0.375rem;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .error-message {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }

        .btn-container {
            grid-column: span 2;
            display: flex;
            justify-content: flex-end;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 0.375rem;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .preview-section {
            margin-top: 2rem;
        }

        .preview-title {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .preview-content {
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 0.375rem;
            border: 1px solid #dee2e6;
        }

        .preview-contact-item {
            margin-bottom: 0.5rem;
        }

        .preview-social-links {
            margin: 1rem 0;
        }

        .preview-social-links a {
            display: inline-block;
            margin-right: 1rem;
            color: #007bff;
            text-decoration: none;
        }

        .preview-social-links a:hover {
            text-decoration: underline;
        }

        .preview-map {
            margin-top: 1rem;
            height: 200px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Simple header -->
        <header class="header">
            <h1>Contact Information Management</h1>
        </header>

        <!-- Main content directly -->
        <div class="main-content">
            <h2 class="form-title">Edit Contact Information</h2>

            <div id="alert-success" class="alert alert-success">
                Contact information updated successfully!
            </div>

            <div id="alert-error" class="alert alert-error">
                There was an error updating the contact information. Please try again.
            </div>

            <form id="contactForm" class="contact-form">



                <div class="form-group">
                    <label for="facebook">Facebook URL</label>
                    <input type="url" id="facebook" name="facebook">
                    <div class="error-message" id="facebook-error">Please enter a valid URL</div>
                </div>

                <div class="form-group">
                    <label for="twitter">Twitter URL</label>
                    <input type="url" id="twitter" name="twitter">
                    <div class="error-message" id="twitter-error">Please enter a valid URL</div>
                </div>

                <div class="form-group">
                    <label for="instagram">Instagram URL</label>
                    <input type="url" id="instagram" name="instagram">
                    <div class="error-message" id="instagram-error">Please enter a valid URL</div>
                </div>

                <div class="form-group full-width">
                    <label for="mapEmbed">Map Embed URL</label>
                    <input type="url" id="mapEmbed" name="mapEmbed" placeholder="https://www.google.com/maps/embed?pb=...">
                    <div class="error-message" id="mapEmbed-error">Please enter a valid URL</div>
                </div>

                <div class="btn-container">
                    <button type="submit" class="btn">Save Changes</button>
                </div>
            </form>


            <h2 class="form-title">Edit Admin Contact Information</h2>
            <form id="adminContactForm" class="contact-form">
                <div class="form-group">
                    <label for="adminPhone">Phone</label>
                    <input type="text" id="adminPhone" required>
                </div>
                <div class="form-group">
                    <label for="adminEmail">Email</label>
                    <input type="email" id="adminEmail" required>
                </div>
                <div class="form-group">
                    <label for="adminAddress">Address</label>
                    <input type="text" id="adminAddress" required>
                </div>
                <div class="form-group">
                    <label for="adminPress">Press Contact</label>
                    <input type="email" id="adminPress">
                </div>
                <div class="btn-container">
                    <button type="submit" class="btn">Save Contact Info</button>
                </div>
            </form>
            <div id="contactSaveMsg"></div>
        </div>
    </div>

    <script src="/my-watch-colne/frontend/src/js/admin/contact.js">

    </script>
    <script>
document.addEventListener('DOMContentLoaded', function() {
  // Load existing contact info
  const contactInfo = JSON.parse(localStorage.getItem('contactInfo') || '{}');
  if (contactInfo.phone) document.getElementById('adminPhone').value = contactInfo.phone;
  if (contactInfo.email) document.getElementById('adminEmail').value = contactInfo.email;
  if (contactInfo.address) document.getElementById('adminAddress').value = contactInfo.address;
  if (contactInfo.press) document.getElementById('adminPress').value = contactInfo.press;

  // Save on submit
  document.getElementById('adminContactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const info = {
      phone: document.getElementById('adminPhone').value,
      email: document.getElementById('adminEmail').value,
      address: document.getElementById('adminAddress').value,
      press: document.getElementById('adminPress').value
    };
    localStorage.setItem('contactInfo', JSON.stringify(info));
    document.getElementById('contactSaveMsg').textContent = 'Contact info saved!';
    setTimeout(() => { document.getElementById('contactSaveMsg').textContent = ''; }, 2000);
  });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const contactForm = document.getElementById('contactForm');
  const facebookInput = document.getElementById('facebook');
  const twitterInput = document.getElementById('twitter');
  const instagramInput = document.getElementById('instagram');
  const mapEmbedInput = document.getElementById('mapEmbed');

  // Load existing contact info
  const contactInfo = JSON.parse(localStorage.getItem('contactInfo') || '{}');
  if (contactInfo.facebook) facebookInput.value = contactInfo.facebook;
  if (contactInfo.twitter) twitterInput.value = contactInfo.twitter;
  if (contactInfo.instagram) instagramInput.value = contactInfo.instagram;
  if (contactInfo.mapEmbed) mapEmbedInput.value = contactInfo.mapEmbed;

  // Save contact info on form submit
  contactForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const updatedInfo = {
      ...contactInfo,
      facebook: facebookInput.value,
      twitter: twitterInput.value,
      instagram: instagramInput.value,
      mapEmbed: mapEmbedInput.value
    };
    localStorage.setItem('contactInfo', JSON.stringify(updatedInfo));
    document.getElementById('alert-success').style.display = 'block';
    document.getElementById('alert-error').style.display = 'none';

    // Update preview section
    document.getElementById('previewFacebook').href = updatedInfo.facebook;
    document.getElementById('previewTwitter').href = updatedInfo.twitter;
    document.getElementById('previewInstagram').href = updatedInfo.instagram;
    document.getElementById('previewMap').textContent = updatedInfo.mapEmbed ? 'Map is embedded' : 'No map URL provided';

    // Clear form fields
    contactForm.reset();
  });
});
</script>
</body>
</html>